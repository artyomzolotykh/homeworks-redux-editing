(this["webpackJsonphomeworks-redux-editing"]=this["webpackJsonphomeworks-redux-editing"]||[]).push([[0],{16:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);n(0);var r=n(4),i=n.n(r),a=(n(16),n(2)),c="ADD_SERVICE",u="REMOVE_SERVICE",o="EDIT_SERVICE_FIELD",s="CHANGE_SERVICE_FIELD",l="CLEAR_SERVICE_FIELD",d="UPDATE_SERVICE",v="FILTER_SERVICES";function p(){return{type:l}}var f=n(1),m=function(){var e=Object(a.c)((function(e){return e.serviceAdd})),t=Object(a.b)(),n=function(e){var n=e.target,r=n.name,i=n.value;t(function(e,t){return{type:s,payload:{name:e,value:t}}}(r,i))};return Object(f.jsxs)("form",{onSubmit:function(n){var r,i,a;n.preventDefault(),e.editting?t((r=e.editting,i=e.name,a=e.price,{type:d,payload:{id:r,name:i,price:a}})):t(function(e,t){return{type:c,payload:{name:e,price:t}}}(e.name,e.price)),t(p())},children:[Object(f.jsx)("input",{name:"name",onChange:n,value:e.name}),Object(f.jsx)("input",{name:"price",onChange:n,value:e.price}),Object(f.jsx)("button",{type:"submit",children:"Save"}),e.editting&&Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),t(p())},children:"Cancel"})]})},j=function(){var e=Object(a.c)((function(e){return e.serviceList.value})),t=Object(a.b)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:"\u041f\u043e\u0438\u0441\u043a..."}),Object(f.jsx)("input",{name:"filter",onChange:function(e){var n=e.target.value;t(function(e,t){return{type:v,payload:{value:e,items:t}}}(n))},value:e})]})},b=function(){var e=Object(a.c)((function(e){return e.serviceList.items})),t=Object(a.c)((function(e){return e.serviceList.filtered})),n=Object(a.c)((function(e){return e.serviceList.value})),r=Object(a.b)(),i=n?t:e,c=function(e){r(function(e){return{type:u,payload:{id:e}}}(e)),r(p())},s=function(e,t,n){r(function(e,t,n){return{type:o,payload:{id:e,name:t,price:n}}}(e,t,n))};return Object(f.jsx)("ul",{children:i.map((function(e){return Object(f.jsxs)("li",{children:[e.name," ",e.price,Object(f.jsx)("button",{onClick:function(){return s(e.id,e.name,e.price)},children:"\u270e"}),Object(f.jsx)("button",{onClick:function(){return c(e.id)},children:"\u2715"})]},e.id)}))})};var O=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{}),Object(f.jsx)(b,{}),Object(f.jsx)(j,{})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))},g=n(9),L=n(11),h=n(6),E={items:[{id:Object(h.a)(),name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0441\u0442\u0435\u043a\u043b\u0430",price:21e3},{id:Object(h.a)(),name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0434\u0438\u0441\u043f\u043b\u0435\u044f",price:25e3}],value:"",filtered:[]};var y=n(5),w=n(3),x={name:"",price:"",editting:""};var S=Object(g.a)({serviceList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.payload,r=n.name,i=n.price,a=[].concat(Object(L.a)(e.items),[{id:Object(h.a)(),name:r,price:Number(i)}]);return{items:a,value:e.value,filtered:a.filter((function(t){var n=t.name,r=t.price;return n.toLowerCase().includes(e.value.toLowerCase())||String(r).toLowerCase().includes(e.value.toLowerCase())}))};case u:var o=t.payload.id,s=e.items.filter((function(e){return e.id!==o}));return{items:s,value:e.value,filtered:s.filter((function(t){var n=t.name,r=t.price;return n.toLowerCase().includes(e.value.toLowerCase())||String(r).toLowerCase().includes(e.value.toLowerCase())}))};case d:var l=t.payload,p=e.items.map((function(e){return e.id===l.id?{id:l.id,name:l.name,price:Number(l.price)}:e}));return{items:p,value:e.value,filtered:p.filter((function(t){var n=t.name,r=t.price;return n.toLowerCase().includes(e.value.toLowerCase())||String(r).toLowerCase().includes(e.value.toLowerCase())}))};case v:var f=t.payload.value;return{items:e.items,value:f,filtered:e.items.filter((function(e){var t=e.name,n=e.price;return t.toLowerCase().includes(f.toLowerCase())||String(n).toLowerCase().includes(f.toLowerCase())}))};default:return e}},serviceAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=t.payload,r=n.name,i=n.value;return Object(w.a)(Object(w.a)({},e),{},Object(y.a)({},r,i));case o:var a=t.payload;return{name:a.name,price:a.price,editting:a.id};case l:return{name:"",price:"",editting:!1};default:return e}}}),I=Object(g.b)(S);i.a.render(Object(f.jsx)(a.a,{store:I,children:Object(f.jsx)(O,{})}),document.getElementById("root")),C()}},[[24,1,2]]]);
//# sourceMappingURL=main.80665879.chunk.js.map